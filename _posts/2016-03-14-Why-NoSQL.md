---
layout: post
title: Why NoSQL
comments: true
categories: [database]
tags: [tool]
---

<H2>Not Only SQL</H2>

================

<hr />

<H3>非关系型、分布式数据存储得到了快速的发展，它们不保证关系数据的ACID特性。  


NoSQL被我们用得最多的当数key-value存储，当然还有其他的文档型的、列存储、图型数据库、xml数据库等。

</H3>  



<H2>* Memcached+MySQL</H2>

使用缓存技术来缓解数据库的压力，优化数据库的结构和索引。开始比较流行的是通过文件缓存来缓解数据库压力，但是当访问量继续增大的时候，多台web机器通过文件缓存不能共享，大量的小文件缓存也带了了比较高的IO压力。  

在这个时候，<H4>Memcached</H4> 就自然的成为一个非常时尚的技术产品。

Memcached作为一个独立的分布式的缓存服务器，为多个web服务器提供了一个共享的高性能缓存服务，在Memcached服务器上，又发展了根据hash算法来进行多台Memcached缓存服务的扩展，  

然后又出现了一致性hash来解决增加或减少缓存服务器导致重新hash带来的大量缓存失效的弊端。

<H2>* Mysql主从读写分离</H2>

由于数据库的写入压力增加，Memcached只能缓解数据库的读取压力。  

读写集中在一个数据库上让数据库不堪重负，大部分网站开始使用主从复制技术来达到读写分离，以提高读写性能和读库的可扩展性。  

Mysql的master-slave模式成为网站标配。

--- 

在Memcached的高速缓存，MySQL的主从复制，读写分离的基础之上，这时MySQL主库的写压力开始出现瓶颈，  

而数据量的持续猛增，由于MyISAM使用表锁，在高并发下会出现严重的锁问题，大量的高并发MySQL应用开始使用InnoDB引擎代替MyISAM
。  

行使用分表分库来缓解写压力和数据增长的扩展问题。虽然MySQL推出了MySQL Cluster集群。

<H2>* MySQL的扩展性瓶颈</H2>

在互联网，大部分的MySQL都应该是IO密集型的，事实上，如果你的MySQL是个CPU密集型的话，那么很可能你的MySQL设计得有性能问题，需要优化经验的。      


MySQL数据库也经常存储一些大文本字段，导致数据库表非常的大，在做数据库恢复的时候就导致非常的慢，不容易快速恢复数据库。  


比如2000万8KB大小的文本就接近80GB的大小，如果能把这些数据从MySQL省去，MySQL将变得非常的小。



